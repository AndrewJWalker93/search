<!DOCTYPE html>
<html>
<body>
 
<div style="text-align: center">Search Player  <input type="text" id="fname" name="fname" onchange="find()"> <div id="result"></div></div>

<p id="0" style="text-align: center"></p>
<p id="1" style="text-align: center"></p>
<p id="2" style="text-align: center"></p>
<p id="3" style="text-align: center"></p>
<p id="4" style="text-align: center"></p>
<p id="5"style="text-align: center"></p>
<p id="6"style="text-align: center"></p>



<script>
var string = '[{"ID":"3158637","Manager":"Roberto Firmemeo","Players":[{"Name":"Guaita","ID":null,"Captain":false,"Position":1,"Benched":false,"ViceCaptain":false},{"Name":"Castagne","ID":null,"Captain":false,"Position":2,"Benched":false,"ViceCaptain":false},{"Name":"Saïss","ID":null,"Captain":false,"Position":2,"Benched":false,"ViceCaptain":false},{"Name":"Lamptey","ID":null,"Captain":false,"Position":2,"Benched":false,"ViceCaptain":false},{"Name":"Mitchell","ID":null,"Captain":false,"Position":2,"Benched":false,"ViceCaptain":false},{"Name":"Rodríguez","ID":null,"Captain":false,"Position":3,"Benched":false,"ViceCaptain":false},{"Name":"Salah","ID":null,"Captain":false,"Position":3,"Benched":false,"ViceCaptain":false},{"Name":"Son","ID":null,"Captain":false,"Position":3,"Benched":false,"ViceCaptain":true},{"Name":"Jorginho","ID":null,"Captain":false,"Position":3,"Benched":false,"ViceCaptain":false},{"Name":"Calvert-Lewin","ID":null,"Captain":false,"Position":4,"Benched":false,"ViceCaptain":false},{"Name":"Kane","ID":null,"Captain":true,"Position":4,"Benched":true,"ViceCaptain":false},{"Name":"Ryan","ID":null,"Captain":false,"Position":1,"Benched":true,"ViceCaptain":false},{"Name":"Vardy","ID":null,"Captain":false,"Position":4,"Benched":true,"ViceCaptain":false},{"Name":"Bissouma","ID":null,"Captain":false,"Position":3,"Benched":true,"ViceCaptain":false},{"Name":"Walker-Peters","ID":null,"Captain":false,"Position":2,"Benched":true,"ViceCaptain":false}]},{"ID":"3673963","Manager":"Joshua Clarke","Players":[{"Name":"McCarthy","ID":null,"Captain":false,"Position":1,"Benched":false,"ViceCaptain":false},{"Name":"Alexander-Arnold","ID":null,"Captain":false,"Position":2,"Benched":false,"ViceCaptain":false},{"Name":"Walker-Peters","ID":null,"Captain":false,"Position":2,"Benched":false,"ViceCaptain":false},{"Name":"Justin","ID":null,"Captain":false,"Position":2,"Benched":false,"ViceCaptain":false},{"Name":"Rodríguez","ID":null,"Captain":false,"Position":3,"Benched":false,"ViceCaptain":false},{"Name":"Salah","ID":null,"Captain":false,"Position":3,"Benched":false,"ViceCaptain":true},{"Name":"Son","ID":null,"Captain":true,"Position":3,"Benched":false,"ViceCaptain":false},{"Name":"Saint-Maximin","ID":null,"Captain":false,"Position":3,"Benched":false,"ViceCaptain":false},{"Name":"Kane","ID":null,"Captain":false,"Position":4,"Benched":false,"ViceCaptain":false},{"Name":"Mitrović","ID":null,"Captain":false,"Position":4,"Benched":false,"ViceCaptain":false},{"Name":"Calvert-Lewin","ID":null,"Captain":false,"Position":4,"Benched":true,"ViceCaptain":false},{"Name":"Steer","ID":null,"Captain":false,"Position":1,"Benched":true,"ViceCaptain":false},{"Name":"Stephens","ID":null,"Captain":false,"Position":3,"Benched":true,"ViceCaptain":false},{"Name":"Davies","ID":null,"Captain":false,"Position":2,"Benched":true,"ViceCaptain":false},{"Name":"Johnson","ID":null,"Captain":false,"Position":2,"Benched":true,"ViceCaptain":false}]},{"ID":"2246561","Manager":"William Lumb","Players":[{"Name":"Martínez","ID":null,"Captain":false,"Position":1,"Benched":false,"ViceCaptain":false},{"Name":"Robertson","ID":null,"Captain":false,"Position":2,"Benched":false,"ViceCaptain":false},{"Name":"Saïss","ID":null,"Captain":false,"Position":2,"Benched":false,"ViceCaptain":false},{"Name":"Chilwell","ID":null,"Captain":false,"Position":2,"Benched":false,"ViceCaptain":false},{"Name":"Son","ID":null,"Captain":true,"Position":3,"Benched":false,"ViceCaptain":false},{"Name":"Grealish","ID":null,"Captain":false,"Position":3,"Benched":false,"ViceCaptain":false},{"Name":"Rodríguez","ID":null,"Captain":false,"Position":3,"Benched":false,"ViceCaptain":false},{"Name":"Salah","ID":null,"Captain":false,"Position":3,"Benched":false,"ViceCaptain":false},{"Name":"Maupay","ID":null,"Captain":false,"Position":4,"Benched":false,"ViceCaptain":false},{"Name":"Kane","ID":null,"Captain":false,"Position":4,"Benched":false,"ViceCaptain":true},{"Name":"Calvert-Lewin","ID":null,"Captain":false,"Position":4,"Benched":true,"ViceCaptain":false},{"Name":"Martin","ID":null,"Captain":false,"Position":1,"Benched":true,"ViceCaptain":false},{"Name":"Mitchell","ID":null,"Captain":false,"Position":2,"Benched":true,"ViceCaptain":false},{"Name":"Bissouma","ID":null,"Captain":false,"Position":3,"Benched":true,"ViceCaptain":false},{"Name":"Ayling","ID":null,"Captain":false,"Position":2,"Benched":true,"ViceCaptain":false}]},{"ID":"1471831","Manager":"Nik Humphries","Players":[{"Name":"Martínez","ID":null,"Captain":false,"Position":1,"Benched":false,"ViceCaptain":false},{"Name":"Justin","ID":null,"Captain":false,"Position":2,"Benched":false,"ViceCaptain":false},{"Name":"Saïss","ID":null,"Captain":false,"Position":2,"Benched":false,"ViceCaptain":false},{"Name":"Castagne","ID":null,"Captain":false,"Position":2,"Benched":false,"ViceCaptain":false},{"Name":"Foden","ID":null,"Captain":false,"Position":3,"Benched":false,"ViceCaptain":false},{"Name":"Son","ID":null,"Captain":true,"Position":3,"Benched":false,"ViceCaptain":false},{"Name":"Rodríguez","ID":null,"Captain":false,"Position":3,"Benched":false,"ViceCaptain":true},{"Name":"Bale","ID":null,"Captain":false,"Position":3,"Benched":false,"ViceCaptain":false},{"Name":"Grealish","ID":null,"Captain":false,"Position":3,"Benched":false,"ViceCaptain":false},{"Name":"Calvert-Lewin","ID":null,"Captain":false,"Position":4,"Benched":false,"ViceCaptain":false},{"Name":"Kane","ID":null,"Captain":false,"Position":4,"Benched":true,"ViceCaptain":false},{"Name":"Martin","ID":null,"Captain":false,"Position":1,"Benched":true,"ViceCaptain":false},{"Name":"Bamford","ID":null,"Captain":false,"Position":4,"Benched":true,"ViceCaptain":false},{"Name":"Digne","ID":null,"Captain":false,"Position":2,"Benched":true,"ViceCaptain":false},{"Name":"Bellerín","ID":null,"Captain":false,"Position":2,"Benched":true,"ViceCaptain":false}]},{"ID":"2766505","Manager":"Rob Langman","Players":[{"Name":"Pope","ID":null,"Captain":false,"Position":1,"Benched":false,"ViceCaptain":false},{"Name":"van Dijk","ID":null,"Captain":false,"Position":2,"Benched":false,"ViceCaptain":false},{"Name":"Gabriel","ID":null,"Captain":false,"Position":2,"Benched":false,"ViceCaptain":false},{"Name":"Lamptey","ID":null,"Captain":false,"Position":2,"Benched":false,"ViceCaptain":false},{"Name":"Rice","ID":null,"Captain":false,"Position":3,"Benched":false,"ViceCaptain":false},{"Name":"Foden","ID":null,"Captain":false,"Position":3,"Benched":false,"ViceCaptain":false},{"Name":"Aubameyang","ID":null,"Captain":false,"Position":3,"Benched":false,"ViceCaptain":false},{"Name":"Rodríguez","ID":null,"Captain":false,"Position":3,"Benched":false,"ViceCaptain":false},{"Name":"Calvert-Lewin","ID":null,"Captain":false,"Position":4,"Benched":false,"ViceCaptain":false},{"Name":"Kane","ID":null,"Captain":true,"Position":4,"Benched":false,"ViceCaptain":false},{"Name":"Werner","ID":null,"Captain":false,"Position":4,"Benched":true,"ViceCaptain":true},{"Name":"Ryan","ID":null,"Captain":false,"Position":1,"Benched":true,"ViceCaptain":false},{"Name":"Doherty","ID":null,"Captain":false,"Position":2,"Benched":true,"ViceCaptain":false},{"Name":"Lemina","ID":null,"Captain":false,"Position":3,"Benched":true,"ViceCaptain":false},{"Name":"Williams","ID":null,"Captain":false,"Position":2,"Benched":true,"ViceCaptain":false}]},{"ID":"417320","Manager":"Jack Hewitt","Players":[{"Name":"Ryan","ID":null,"Captain":false,"Position":1,"Benched":false,"ViceCaptain":false},{"Name":"Robertson","ID":null,"Captain":false,"Position":2,"Benched":false,"ViceCaptain":false},{"Name":"Alexander-Arnold","ID":null,"Captain":false,"Position":2,"Benched":false,"ViceCaptain":false},{"Name":"Mitchell","ID":null,"Captain":false,"Position":2,"Benched":false,"ViceCaptain":false},{"Name":"Taylor","ID":null,"Captain":false,"Position":2,"Benched":false,"ViceCaptain":false},{"Name":"Son","ID":null,"Captain":true,"Position":3,"Benched":false,"ViceCaptain":false},{"Name":"Rodríguez","ID":null,"Captain":false,"Position":3,"Benched":false,"ViceCaptain":false},{"Name":"Salah","ID":null,"Captain":false,"Position":3,"Benched":false,"ViceCaptain":true},{"Name":"Foden","ID":null,"Captain":false,"Position":3,"Benched":false,"ViceCaptain":false},{"Name":"Calvert-Lewin","ID":null,"Captain":false,"Position":4,"Benched":false,"ViceCaptain":false},{"Name":"Jiménez","ID":null,"Captain":false,"Position":4,"Benched":true,"ViceCaptain":false},{"Name":"Button","ID":null,"Captain":false,"Position":1,"Benched":true,"ViceCaptain":false},{"Name":"Coady","ID":null,"Captain":false,"Position":2,"Benched":true,"ViceCaptain":false},{"Name":"Anguissa","ID":null,"Captain":false,"Position":3,"Benched":true,"ViceCaptain":false},{"Name":"Davis","ID":null,"Captain":false,"Position":4,"Benched":true,"ViceCaptain":false}]},{"ID":"4540596","Manager":"Luke Garmonsway","Players":[{"Name":"Patrício","ID":null,"Captain":false,"Position":1,"Benched":false,"ViceCaptain":false},{"Name":"Alexander-Arnold","ID":null,"Captain":false,"Position":2,"Benched":false,"ViceCaptain":false},{"Name":"Lamptey","ID":null,"Captain":false,"Position":2,"Benched":false,"ViceCaptain":false},{"Name":"Walker-Peters","ID":null,"Captain":false,"Position":2,"Benched":false,"ViceCaptain":false},{"Name":"Barnes","ID":null,"Captain":false,"Position":3,"Benched":false,"ViceCaptain":false},{"Name":"Aubameyang","ID":null,"Captain":false,"Position":3,"Benched":false,"ViceCaptain":false},{"Name":"Phillips","ID":null,"Captain":false,"Position":3,"Benched":false,"ViceCaptain":false},{"Name":"Salah","ID":null,"Captain":false,"Position":3,"Benched":false,"ViceCaptain":true},{"Name":"Mitrović","ID":null,"Captain":false,"Position":4,"Benched":false,"ViceCaptain":false},{"Name":"Jiménez","ID":null,"Captain":false,"Position":4,"Benched":false,"ViceCaptain":false},{"Name":"Vardy","ID":null,"Captain":true,"Position":4,"Benched":true,"ViceCaptain":false},{"Name":"McCarthy","ID":null,"Captain":false,"Position":1,"Benched":true,"ViceCaptain":false},{"Name":"Reed","ID":null,"Captain":false,"Position":3,"Benched":true,"ViceCaptain":false},{"Name":"Bernardo","ID":null,"Captain":false,"Position":2,"Benched":true,"ViceCaptain":false},{"Name":"Douglas","ID":null,"Captain":false,"Position":2,"Benched":true,"ViceCaptain":false}]}]'
var obj = JSON.parse(string);


for(i = 0; i < obj.length; i++){
    var position = 1;
    document.getElementById(i).innerHTML = '<p style="color:red">' + obj[i].Manager + "</p>";

    for(j = 0; j < obj[i].Players.length; j++){
    document.getElementById(i).innerHTML += (obj[i].Players[j].Position > position && !obj[i].Players[j].Benched && obj[i].Players[j].Position != 1 ? "<br>" : "&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp") + obj[i].Players[j].Name ;
    if (obj[i].Players[j].ViceCaptain == true){
        document.getElementById(i).innerHTML += " (VC)"
    }

    if (obj[i].Players[j].Captain == true){
        document.getElementById(i).innerHTML += " (C)"
    }

    if (j == 10){
        document.getElementById(i).innerHTML += "<br> <br> Bench <br>";
    }
    position = obj[i].Players[j].Position;
    }
}
    function find(){
        var text = "";

        let playersFound = [];

        for(i = 0; i < obj.length; i++){
            for(j = 0; j < obj[i].Players.length; j++){
                if (obj[i].Players[j].Name.toLowerCase().includes(document.getElementById("fname").value.toLowerCase())){

                    if (playersFound.includes(obj[i].Players[j].Name) == false){
                        playersFound.push(obj[i].Players[j].Name);
                    }
                }
            }
        }


        for(f = 0; f < playersFound.length; f++){
            text += '<div style="color:GREEN">' + playersFound[f] + ": </div> ";
            for(i = 0; i < obj.length; i++){
                for(j = 0; j < obj[i].Players.length; j++){
                  if (obj[i].Players[j].Name == playersFound[f]){
                     text += obj[i].Manager + " " + (obj[i].Players[j].Benched ? "(BENCHED)" : " ")  +(obj[i].Players[j].Captain ? "(C)" : " ") + (obj[i].Players[j].ViceCaptain ? "(VC) " : " ") +"&nbsp&nbsp&nbsp&nbsp";
                    }
                }
            }

            text += "<br>"
        }

        document.getElementById("result").innerHTML = text;
    }


</script>

</body>
</html>
