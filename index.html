<!DOCTYPE html>
<html>
<body>
Search Player  <input type="text" id="fname" name="fname" onchange="find()"> <div id="result"></div>

<p id="0""></p>
<p id="1""></p>
<p id="2""></p>
<p id="3""></p>
<p id="4""></p>
<p id="5""></p>
<p id="6""></p>


<script>
var string = '[{"ID":"3673963","Manager":"Joshua Clarke","Players":[{"Name":"McCarthy","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Alexander-Arnold","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Davies","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Justin","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Son","ID":null,"Captain":true,"ViceCaptain":false},{"Name":"Saint-Maximin","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Rodríguez","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Salah","ID":null,"Captain":false,"ViceCaptain":true},{"Name":"Calvert-Lewin","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Kane","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Mitrović","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Steer","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Stephens","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Walker-Peters","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Johnson","ID":null,"Captain":false,"ViceCaptain":false}]},{"ID":"3158637","Manager":"Roberto Firmemeo","Players":[{"Name":"Guaita","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Saïss","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Lamptey","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Castagne","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Jorginho","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Rodríguez","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Salah","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Son","ID":null,"Captain":false,"ViceCaptain":true},{"Name":"Vardy","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Calvert-Lewin","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Kane","ID":null,"Captain":true,"ViceCaptain":false},{"Name":"Ryan","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Mitchell","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Bissouma","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Walker-Peters","ID":null,"Captain":false,"ViceCaptain":false}]},{"ID":"4540596","Manager":"Luke Garmonsway","Players":[{"Name":"Patrício","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Alexander-Arnold","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Lamptey","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Walker-Peters","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Barnes","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Aubameyang","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Phillips","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Salah","ID":null,"Captain":false,"ViceCaptain":true},{"Name":"Vardy","ID":null,"Captain":true,"ViceCaptain":false},{"Name":"Mitrović","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Jiménez","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"McCarthy","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Reed","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Bernardo","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Douglas","ID":null,"Captain":false,"ViceCaptain":false}]},{"ID":"2246561","Manager":"William Lumb","Players":[{"Name":"Martínez","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Robertson","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Saïss","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Chilwell","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Son","ID":null,"Captain":true,"ViceCaptain":false},{"Name":"Grealish","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Rodríguez","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Salah","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Maupay","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Kane","ID":null,"Captain":false,"ViceCaptain":true},{"Name":"Calvert-Lewin","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Martin","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Mitchell","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Bissouma","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Ayling","ID":null,"Captain":false,"ViceCaptain":false}]},{"ID":"2766505","Manager":"Rob Langman","Players":[{"Name":"Pope","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"van Dijk","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Gabriel","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Doherty","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Lamptey","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Foden","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Aubameyang","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Rodríguez","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Werner","ID":null,"Captain":false,"ViceCaptain":true},{"Name":"Calvert-Lewin","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Kane","ID":null,"Captain":true,"ViceCaptain":false},{"Name":"Ryan","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Rice","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Lemina","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Williams","ID":null,"Captain":false,"ViceCaptain":false}]},{"ID":"417320","Manager":"Jack Hewitt","Players":[{"Name":"Ryan","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Robertson","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Alexander-Arnold","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Mitchell","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Taylor","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Son","ID":null,"Captain":true,"ViceCaptain":false},{"Name":"Rodríguez","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Salah","ID":null,"Captain":false,"ViceCaptain":true},{"Name":"Foden","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Calvert-Lewin","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Jiménez","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Button","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Coady","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Anguissa","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Davis","ID":null,"Captain":false,"ViceCaptain":false}]},{"ID":"1471831","Manager":"Nik Humphries","Players":[{"Name":"Martínez","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Justin","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Saïss","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Castagne","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Foden","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Son","ID":null,"Captain":true,"ViceCaptain":false},{"Name":"Rodríguez","ID":null,"Captain":false,"ViceCaptain":true},{"Name":"Bale","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Grealish","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Calvert-Lewin","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Kane","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Martin","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Bamford","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Digne","ID":null,"Captain":false,"ViceCaptain":false},{"Name":"Bellerín","ID":null,"Captain":false,"ViceCaptain":false}]}]'

var obj = JSON.parse(string);

for(i = 0; i < obj.length; i++){
    document.getElementById(i).innerHTML = '<p style="color:red">' + obj[i].Manager + "</p>";

    for(j = 0; j < obj[i].Players.length; j++){
    document.getElementById(i).innerHTML += "<br>" + obj[i].Players[j].Name;
    if (obj[i].Players[j].ViceCaptain == true){
        document.getElementById(i).innerHTML += " (VC)"
    }

    if (obj[i].Players[j].Captain == true){
        document.getElementById(i).innerHTML += " (C)"
    }

    if (j == 10){
        document.getElementById(i).innerHTML += "<br> <br> Bench <br>";
    }
    }
}
    function find(){
        var text = "";

        let playersFound = [];

        for(i = 0; i < obj.length; i++){
            for(j = 0; j < obj[i].Players.length; j++){
                if (obj[i].Players[j].Name.toLowerCase().includes(document.getElementById("fname").value.toLowerCase())){

                    if (playersFound.includes(obj[i].Players[j].Name) == false){
                        playersFound.push(obj[i].Players[j].Name);
                    }
                }
            }
        }


        for(f = 0; f < playersFound.length; f++){
            text += playersFound[f] + ": ";
            for(i = 0; i < obj.length; i++){
                for(j = 0; j < obj[i].Players.length; j++){
                  if (obj[i].Players[j].Name == playersFound[f]){
                     text += obj[i].Manager + " " + (obj[i].Players[j].Captain ? "(C)" : " ") + (obj[i].Players[j].ViceCaptain ? "(VC)" : " ") +" ";
                    }
                }
            }

            text += "<br>"
        }

        document.getElementById("result").innerHTML = text;
    }


</script>

</body>
</html>
